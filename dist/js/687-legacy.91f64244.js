(self["webpackChunksupermall"]=self["webpackChunksupermall"]||[]).push([[687],{3399:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return D}});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"shoppingcart"}},[r("top-nav",{staticClass:"topnav"},[r("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物车("+t._s(t.shopCartLength)+")")])]),r("Scroll",{ref:"scroller",attrs:{"probe-type":3,"pull-up-load":!0}},[r("product-list")],1),r("product-bottom-bar")],1)},n=[];r(7941),r(2526),r(7327),r(1539),r(5003),r(4747),r(9337);function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var a=r(2168),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"productlist"}},t._l(t.shopCartList,(function(t,e){return r("product-list-item",{attrs:{"shop-cart-item":t,"shop-cart-index":e}})})),1)},u=[],p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"productlistitem"}},[r("div",{staticClass:"itemleft"},[r("div",{staticClass:"click",class:{active:t.isActive},on:{click:t.changeItemChecked}})]),r("div",{staticClass:"itemright"},[r("div",{staticClass:"left"},[r("img",{attrs:{src:t.shopCartItem.image,alt:""}})]),r("div",{staticClass:"right"},[r("p",[t._v(t._s(t.shopCartItem.title))]),r("p",[t._v(t._s(t.shopCartItem.desc))]),r("span",[t._v("价格: "+t._s(t.shopCartItem.realPrice)+"￥")]),r("span",[t._v("数量:"+t._s(t.shopCartItem.count)+"件")])])])])},h=[],d=(r(9653),{name:"ProductListItem",props:{shopCartItem:{type:Object,default:function(){return{}}},shopCartIndex:{type:Number,default:function(){return 0}}},computed:{isActive:function(){return this.shopCartItem.checked}},methods:{changeItemChecked:function(){var t={index:this.shopCartIndex,isActive:this.isActive};this.$store.commit("ChangeItemChecked",t)}}}),f=d,m=r(1001),v=(0,m.Z)(f,p,h,!1,null,"2e5eb829",null),C=v.exports,b=r(4665),g={name:"ProductList",components:{ProductListItem:C},computed:o({},(0,b.Se)(["shopCartList"]))},_=g,y=(0,m.Z)(_,l,u,!1,null,"4b0c7876",null),P=y.exports,O=r(7957),k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"bottombar"}},[r("div",{staticClass:"leftbutton",on:{click:t.ifSelectALL}},[r("div",{staticClass:"check",class:{isActive:t.selectAll}}),r("span",[t._v("全选")])]),r("div",{staticClass:"center"},[r("span",[t._v("总价格:")]),r("span",[t._v(t._s(t.allPrice)+"￥")])]),r("div",{staticClass:"rightbuying",on:{click:t.paying}},[r("span",[t._v("确认支付("+t._s(t.buyingCount)+")")])])])},L=[],j=(r(6977),r(9826),{name:"ProductBottomBar",computed:o(o({},(0,b.Se)(["shopCartLength","shopCartList"])),{},{allPrice:function(){for(var t=this.shopCartList.filter((function(t){return!0===t.checked})),e=0,r=0;r<t.length;r++)e+=t[r].realPrice*t[r].count;return e.toFixed(2)},buyingCount:function(){for(var t=this.shopCartList.filter((function(t){return!0===t.checked})),e=0,r=0;r<t.length;r++)e+=1*t[r].count;return e},selectAll:function(){return 0!==this.shopCartLength&&!this.shopCartList.find((function(t){return!1===t.checked}))}}),methods:{ifSelectALL:function(){this.selectAll?this.$store.commit("AllProductDisChecked"):this.$store.commit("AllProductChecked")},paying:function(){0===this.buyingCount&&this.$toast.changeShow("请选择一件商品！",2e3)}}}),I=j,w=(0,m.Z)(I,k,L,!1,null,"e43f84c4",null),A=w.exports,S={name:"ShoppingCart",components:{topNav:a.Z,ProductList:P,ProductBottomBar:A,Scroll:O.Z},computed:o({},(0,b.Se)(["shopCartLength"])),activated:function(){this.$refs.scroller.refresh()}},x=S,$=(0,m.Z)(x,s,n,!1,null,"5e538e31",null),D=$.exports},9337:function(t,e,r){var s=r(2109),n=r(9781),i=r(3887),c=r(5656),o=r(1236),a=r(6135);s({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,r,s=c(t),n=o.f,l=i(s),u={},p=0;while(l.length>p)r=n(s,e=l[p++]),void 0!==r&&a(u,e,r);return u}})}}]);
//# sourceMappingURL=687-legacy.91f64244.js.map