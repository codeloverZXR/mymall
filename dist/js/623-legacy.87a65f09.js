(self["webpackChunksupermall"]=self["webpackChunksupermall"]||[]).push([[623],{7477:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return J}});var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home"}},[r("top-nav",{staticClass:"home-topbar"},[r("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),r("tap-control",{staticClass:"tapcontrolhidden",class:{tapcontrolfixed:t.needtapfixed},attrs:{hometabs:["流行","新款","精选"]},on:{itemclick:t.changeItem}}),r("Scroll",{ref:"scroller",attrs:{"probe-type":3,"pull-up-load":!0},on:{bescroll:t.Bescroll,pullingUp:t.upDateGoods}},[r("main-swiper",{attrs:{banners:t.banners},on:{swiperimgloaded:t.showTpclTop}}),r("home-recommend",{attrs:{recommends:t.recommends}}),r("img-recommend"),r("tap-control",{ref:"tapcontrol01",staticClass:"tapcontrol",attrs:{hometabs:["流行","新款","精选"]},on:{itemclick:t.changeItem}}),r("goods-list",{attrs:{goods:t.ShowingGoods}})],1),r("ScrollBack",{directives:[{name:"show",rawName:"v-show",value:t.isbackshow,expression:"isbackshow"}],nativeOn:{click:function(e){return t.backToTop.apply(null,arguments)}}})],1)},n=[];function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function i(t){if(Array.isArray(t))return s(t)}r(2526),r(1817),r(1539),r(2165),r(8783),r(3948),r(1038);function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r(7042),r(8309),r(4916),r(7601);function c(t,e){if(t){if("string"===typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}r(1703);function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t){return i(t)||a(t)||c(t)||l()}var u=r(3685);function d(){return(0,u.d)({url:"/home/multidata",method:"get"})}function h(t,e){return(0,u.d)({url:"home/data",params:{type:t,page:e}})}var p=r(2815),f=r(2168),g=r(7957),v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("swiper",t._l(t.banners,(function(e){return r("swiper-item",[r("a",{attrs:{href:e.link}},[r("img",{attrs:{src:e.image,alt:""},on:{load:t.SwiperImgLoaded}})])])})),1)},b=[],w=r(2225),y={name:"mainSwiper",components:{Swiper:w.k,SwiperItem:w.t},props:{banners:{type:Array,default:function(){return[]}}},data:function(){return{needEmit:!0}},methods:{SwiperImgLoaded:function(){this.needEmit&&(this.$emit("swiperimgloaded"),this.needEmit=!1)}}},$=y,_=r(1001),k=(0,_.Z)($,v,b,!1,null,"19b7e052",null),x=k.exports,S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"recommend"},t._l(t.recommends,(function(e){return r("div",{staticClass:"recommend-item"},[r("a",{attrs:{href:e.link}},[r("img",{attrs:{src:e.image,alt:""}}),r("span",[t._v(t._s(e.title))])])])})),0)},C=[],A={name:"homeRecommend",props:{recommends:{type:Array,default:function(){return[]}}}},I=A,E=(0,_.Z)(I,S,C,!1,null,"470728be",null),T=E.exports,G=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},H=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"imgrecommend"},[o("a",{attrs:{href:"javascript:;"}},[o("img",{attrs:{src:r(8775)}})])])}],Z={name:"imgRecommend"},j=Z,B=(0,_.Z)(j,G,H,!1,null,"d374114a",null),M=B.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tap-control"},t._l(t.hometabs,(function(e,o){return r("div",{staticClass:"tap-contriol-item",class:{active:o==t.$store.state.activeindex},on:{click:function(e){return t.activeChange(o)}}},[r("span",[t._v(t._s(e))])])})),0)},D=[],L={name:"tapControl",props:{hometabs:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{activeChange:function(t){this.$store.commit("changeActiveItem",t),this.$emit("itemclick")}}},O=L,U=(0,_.Z)(O,R,D,!1,null,"5f82715a",null),N=U.exports,Y=r(549),P=r(3121),q={name:"Home",components:{topNav:f.Z,mainSwiper:x,homeRecommend:T,imgRecommend:M,tapControl:N,goodsList:Y.Z,Scroll:g.Z},mixins:[P.M$],data:function(){return{banners:[],recommends:[],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},adciveitem:"pop",tapcontroltop:0,needtapfixed:!1,refresh:null}},activated:function(){null!=this.$refs.scroller.bscroll&&(this.$refs.scroller.bscroll.scrollTo(0,this.$store.state.savehomeY,0),this.$refs.scroller.bscroll.refresh(),this.refresh=(0,p.D)(this.$refs.scroller&&this.$refs.scroller.refresh,50),this.$bus.$on("imghasloaded",this.refresh))},deactivated:function(){null!=this.$refs.scroller.bscroll&&this.$store.commit("changeHomeY",this.$refs.scroller.bscroll.y),this.$bus.$off("imghasloaded")},created:function(){this.getHomeMultidata(),this.getHomeGoods("pop"),this.getHomeGoods("new"),this.getHomeGoods("sell")},computed:{ShowingGoods:function(){return this.goods[this.adciveitem].list}},methods:{getHomeMultidata:function(){var t=this;d().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list})).catch((function(t){}))},getHomeGoods:function(t){var e=this,r=this.goods[t].page+1;h(t,r).then((function(r){var o;(o=e.goods[t].list).push.apply(o,m(r.data.list)),e.goods[t].page+=1})).catch((function(t){console.log(t)}))},changeItem:function(){switch(console.log(this.$store.state.activeindex),this.$store.state.activeindex){case 0:this.adciveitem="pop";break;case 1:this.adciveitem="new";break;case 2:this.adciveitem="sell";break}console.log(this.adciveitem)},Bescroll:function(t){this.IsBackTopshow(t),-t.y>=this.tapcontroltop-44?this.needtapfixed=!0:this.needtapfixed=!1},upDateGoods:function(){this.getHomeGoods(this.adciveitem),this.$refs.scroller.finishPullUp()},showTpclTop:function(){this.tapcontroltop=this.$refs.tapcontrol01.$el.offsetTop}}},z=q,F=(0,_.Z)(z,o,n,!1,null,"2bb09784",null),J=F.exports},8457:function(t,e,r){"use strict";var o=r(7854),n=r(9974),s=r(6916),i=r(7908),a=r(3411),c=r(7659),l=r(4411),m=r(6244),u=r(6135),d=r(8554),h=r(1246),p=o.Array;t.exports=function(t){var e=i(t),r=l(this),o=arguments.length,f=o>1?arguments[1]:void 0,g=void 0!==f;g&&(f=n(f,o>2?arguments[2]:void 0));var v,b,w,y,$,_,k=h(e),x=0;if(!k||this==p&&c(k))for(v=m(e),b=r?new this(v):p(v);v>x;x++)_=g?f(e[x],x):e[x],u(b,x,_);else for(y=d(e,k),$=y.next,b=r?new this:[];!(w=s($,y)).done;x++)_=g?a(y,f,[w.value,x],!0):w.value,u(b,x,_);return b.length=x,b}},3411:function(t,e,r){var o=r(9670),n=r(9212);t.exports=function(t,e,r,s){try{return s?e(o(r)[0],r[1]):e(r)}catch(i){n(t,"throw",i)}}},1038:function(t,e,r){var o=r(2109),n=r(8457),s=r(7072),i=!s((function(t){Array.from(t)}));o({target:"Array",stat:!0,forced:i},{from:n})},8775:function(t,e,r){"use strict";t.exports=r.p+"img/recommend_bg.a1646d5d.jpg"}}]);
//# sourceMappingURL=623-legacy.87a65f09.js.map